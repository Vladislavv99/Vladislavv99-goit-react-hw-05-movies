"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[799],{799:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(861),c=n(439),r=n(687),o=n.n(r),i=n(791),u=n(273),s=n(689),l=n(87),f=n(983),_="Searchbar_form__D-hp5",h="Searchbar_labelInput__Ozr2Y",m="Searchbar_input__19umw",p="Searchbar_submit__IGhcJ",v=n(184),d=function(e){var t=e.getMoviesFromInput,n=(0,i.useState)(""),a=(0,c.Z)(n,2),r=a[0],o=a[1],u=(0,i.useState)(1),s=(0,c.Z)(u,1)[0];return(0,v.jsxs)("form",{onClick:function(e){e.preventDefault(),""!==r.trim()&&t(r,s)},className:_,children:[(0,v.jsx)("label",{className:h,children:(0,v.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value)},name:"searchInput",value:r,className:m})}),(0,v.jsx)("button",{type:"submit",className:p,children:"Search"})]})},g="MoviesGallery_item__rY1Lr",x="MoviesGallery_link__0igYa",b="MoviesGallery_list__aM+SO",y=function(e){var t=e.movies,n=e.location,a=n.pathname+n.search;return(0,v.jsx)("div",{children:(0,v.jsx)("ul",{className:b,children:t.map((function(e){return(0,v.jsx)("li",{className:g,children:(0,v.jsx)(l.OL,{to:"".concat(e.id),state:{back:"".concat(a)},className:x,children:e.title})},e.id)}))})})},k=function(){var e=(0,i.useState)([]),t=(0,c.Z)(e,2),n=t[0],r=t[1],_=(0,s.TH)(),h=(0,i.useState)(!1),m=(0,c.Z)(h,2),p=m[0],g=m[1],x=(0,l.lr)(),b=(0,c.Z)(x,2),k=b[0],j=b[1],S=k.get("query");return(0,i.useEffect)((function(){S&&(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,u.Ai)(S);case 4:t=e.sent,n=t.data,r(n.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()}),[S]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d,{getMoviesFromInput:function(e){j({query:e})}}),p&&(0,v.jsx)(f.a,{}),(0,v.jsx)(y,{movies:n,location:_})]})}},273:function(e,t,n){n.d(t,{Ai:function(){return i},Bt:function(){return l},KJ:function(){return o},Y5:function(){return u},y:function(){return s}});var a=n(243),c="077542ca1acb186c550ac02d63fc7590",r="https://api.themoviedb.org/3",o=function(){return a.Z.get("".concat(r,"/trending/all/day?api_key=").concat(c))},i=function(e){return a.Z.get("".concat(r,"/search/movie?api_key=").concat(c,"&language=en-US&query=").concat(e))},u=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"?api_key=").concat(c))},s=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(c))},l=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"/reviews?api_key=").concat(c))}}}]);
//# sourceMappingURL=799.6b6b03d4.chunk.js.map