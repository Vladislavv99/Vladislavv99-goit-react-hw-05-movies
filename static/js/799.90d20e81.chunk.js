"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[799],{799:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var a=n(165),c=n(861),r=n(439),o=n(791),i=n(273),u=n(689),s=n(87),l=n(983),f="Searchbar_form__D-hp5",_="Searchbar_labelInput__Ozr2Y",h="Searchbar_input__19umw",m="Searchbar_submit__IGhcJ",p=n(184),v=function(e){var t=e.getMoviesFromInput,n=(0,o.useState)(""),a=(0,r.Z)(n,2),c=a[0],i=a[1],u=(0,o.useState)(1),s=(0,r.Z)(u,1)[0];return(0,p.jsxs)("form",{onClick:function(e){e.preventDefault(),""!==c.trim()&&t(c,s)},className:f,children:[(0,p.jsx)("label",{className:_,children:(0,p.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){i(e.target.value)},name:"searchInput",value:c,className:h})}),(0,p.jsx)("button",{type:"submit",className:m,children:"Search"})]})},d="MoviesGallery_item__rY1Lr",g="MoviesGallery_link__0igYa",x="MoviesGallery_list__aM+SO",b=function(e){var t=e.movies,n=e.location,a=n.pathname+n.search;return(0,p.jsx)("div",{children:(0,p.jsx)("ul",{className:x,children:t.map((function(e){return(0,p.jsx)("li",{className:d,children:(0,p.jsx)(s.OL,{to:"".concat(e.id),state:{back:"".concat(a)},className:g,children:e.title})},e.id)}))})})},y=function(){var e=(0,o.useState)([]),t=(0,r.Z)(e,2),n=t[0],f=t[1],_=(0,u.TH)(),h=(0,o.useState)(!1),m=(0,r.Z)(h,2),d=m[0],g=m[1],x=(0,s.lr)(),y=(0,r.Z)(x,2),k=y[0],Z=y[1],j=k.get("query");return(0,o.useEffect)((function(){j&&(0,c.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,i.Ai)(j);case 4:t=e.sent,n=t.data,f(n.results),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()}),[j]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(v,{getMoviesFromInput:function(e){Z({query:e})}}),d&&(0,p.jsx)(l.a,{}),(0,p.jsx)(b,{movies:n,location:_})]})}},273:function(e,t,n){n.d(t,{Ai:function(){return i},Bt:function(){return l},KJ:function(){return o},Y5:function(){return u},y:function(){return s}});var a=n(243),c="077542ca1acb186c550ac02d63fc7590",r="https://api.themoviedb.org/3",o=function(){return a.Z.get("".concat(r,"/trending/all/day?api_key=").concat(c))},i=function(e){return a.Z.get("".concat(r,"/search/movie?api_key=").concat(c,"&language=en-US&query=").concat(e))},u=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"?api_key=").concat(c))},s=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"/credits?api_key=").concat(c))},l=function(e){return a.Z.get("".concat(r,"/movie/").concat(e,"/reviews?api_key=").concat(c))}}}]);
//# sourceMappingURL=799.90d20e81.chunk.js.map